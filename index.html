<html>

<head>
    <script src="/js/annyang.min.js"></script>
    <script src="/js/speechkitt.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.min.js"></script>
    <meta charset="UTF-8">
    <title>Проект Пандора</title>
</head>

  <body id="body"> 
      <canvas id="canvas"></canvas>
      <script>



var recognition = new webkitSpeechRecognition();
recognition.addEventListener('result', function(ev) {
  SpeechKITT.setRecognizedSentence(
    ev.results[ev.resultIndex][0].transcript // This is where the browser hides the text the user said
  );
});



if (annyang) {
  // Add our commands to annyang
  annyang.addCommands({
    'привет': function() { alert('Hello world!');display_response('Hello world!'); }
  });
  // Tell KITT to use annyang
  SpeechKITT.annyang();
  // Define a stylesheet for KITT to use
  SpeechKITT.setStylesheet('/themes/flat.css');
  // Render KITT's interface
  SpeechKITT.vroom();
}

  annyang.addCallback('resultMatch', function(userSaid, commandText, phrases) {
            console.log('Сказал:',userSaid); //пример: 'hello'
            console.log('Текст команды: ',commandText); // 'hello (there)'
            console.log('Это может быть любой из следующих: ',phrases); // ['hello', 'halo', 'yellow', 'polo', 'hello kitty']
        });
        //отбить в консоль если не поняла
        annyang.addCallback('resultNoMatch', function(phrases) {
            console.log("Вы пытались сказать: ", phrases[0]);
            console.log("Но опять же, это может быть любой из следующих: ", phrases);
        });
        annyang.addCallback('soundstart', function() {
            console.log('услышан звук');
        });
        annyang.addCallback('result', function() {
            console.log('звук прекратился');
        });
</script>
</body>

</html>